
#### Categories:
- **Technical** - Use technology to protect systems and data
- **Managerial** - Focus on security **policies, processes, and oversight**
- **Operational** - Focus on **day-to-day operational activities** that enhance security, do it by person 
- **Physical** - Protect the **physical environment** and prevent unauthorized access to facilities, equipment, or systems
![[Pasted image 20250116054305.png]]
#### AIC/CIA Triad
- fundamentals of security
- Confidentiality - prevent information disclosure
	- Encryption
		- when sending to someone Encode it and the other person will decode it
	- Access controls
	- MFA
- Integrity - Message can't be modified without detection
	- Hashing
		- you perform hash function and get hash and send it with it to the person and the person will perform same hashing function and see if the data was modified
	- Digital signatures
		- this will encrypt hash key with **asymmetric encryption algorithm**
	- Certificates
		- to verify an individual
- Availability - Systems and networks must be up and running
	- Redundancy
	- Fault tolerance
	- Patching
#### Non-repudiation
**Proof of integrity**
- Verify data doesn't change
- **Hashing**
	- we are calling that **message digest**, a **fingerprint**
- when we will download some file there might be a hash, when you perform the hashing function on the file you will see if the hash matches, if yes that means the file wan't changed
**Proof of origin**
- the file is sign with **private** key
	- when you want to send the file you will make **hash** and than encrypt it with **private** key and send it with the file. The people who want to verify integrity will take **digital signaiture**(hash) and **decrypt** it with **public** key and check the hash of the signature and of the file
#### AAA framework
**Authentication**
- prove you are who you say you are 
- password, username, MFA
**Authorization**
- system check if the user have permissions for it
- determine what action you can do
**Accounting**
- Resources used: Login time, data sent, recived, logout time
##### Authenticating people
- when you want to sign you will send request to firewall, you will enter username & password, than it will send credentials to AAA Server to check if the credentials are found and verified it will let you access internal server 
##### Authenticating system
- put digital signed certificate on the device 
- checking if the devices is from the organization
**Certificate Authority**(CA)
  - organization will create certificate for device and sign it with CA
  - signature is validated by root CA
##### Authorization models
- Put authorization model in the middle
	- define it by roles, orgs, Attributes
- add an abstraction(make groups)
	- create relationship between user and resource
#### Gap Analysis
- comparing where you are and where you want to be
- Determine the end goal - choose framework
	- NIST Special Publication
	- ISO/IEC 27001]
- Evaluate
	- baseline of employees
		- experience
		- training
	- current processes
		- research existing IT systems
		- security policies
- Compare
	- comparison
	- Identify weaknesses
	- detailed analysis
		- break it into smaller segments
- create path
 -  final comparison
	![[Pasted image 20250116064934.png]]
	 - red -> yellow -> green
	 - give reason why the color
#### Zero trust
- you have to authenticate every time
- nothing is trusted
- MFA, encryption, systems encryption
- Data plane
	- process the frames, packets
	- Router switch
- Control Planes
	- define policies and rules
	- determine how packets should be forwarded
	- Adaptive identity
		- identify user with authentication
			- e.g. consider source location
			- role
			- IP address
		- limit entry point to only in the building
	- Security zones
		- looking where are you coming from and where are you going
			- trusted, untrusted
			- internal, external network
	- Policy Enforcement point
		- gatekeeper
		- allow, monitor
		- ![[Pasted image 20250116193434.png]]
		-  Policy Engine
			- Evaluates each access decision based on policy
			- Grant, deny, revoke
		- Policy Administrator
			- generates access tokens or credentials
			- tells the PEP to allow or disallow access
#### Physical security
- **bollards**
	- prevent access
		- like from vehicles
	- can be used to an extereme like moats(prikop)
- **access control vestibules**
	- one at a time to prevent tailgating
	- one door open/other locked
	- reception check
- Video surveillance
	- CCTV
	- Motion recognition can alarm and alert
	- Object detection
- **Guards and access badges**
	- Two person security guards for integrity/control
		- no single person has access to a physical asset
	- Access badge
		- picture, name
		- Electronically logged
	- Lightning
		- Easier to see when lit
		- better cam view
- **Sensors**
	- Infrared
		- common motion detectors
	- Pressure
		- Detects a change in force
	- Microwave
		- Detect movement across large areas
	- Ultrasonic
		 - reflected in sound waves
		- detect motion, collision detection
#### Deception and Disruption
- Honeypot
	- single device
	- it is attracting hackers
	- creates a virutal world to exploit
	- trap against hackers
- Honeynets
	- real network includes more than single device(servers, workstations, routers....)
	- it will be more believable for attacker to stay in honeypot
- Honeyfiles
	- files with fake information to waste hackers time
	- decoy (passwords.txt)
	- if accessed the file sent alert
-  Honeytokens
	- it can be fake credentials, endpoints, services
	- when they access it or use it will alert
#### Change management
- how to make change
- update apps
- clear policies
	- Frequency, duration....
- hard to implement
- **Change approval process**
	- avoid mistakes
	- **approval process**
		- Complete request form
		- Determine purpose of change
		- Identify scope
		- Schedule
		- Impact on systems
		- Analyze risk
		- get approval from above
- **Ownership**
	- own the process
	- owner manages the process
- **Stakeholders**
	- Who is impacted by this change
	- single change can include one individual or the entire company
- **Impact analysis**
	- Determine a risk value
	- the fix can 
		- fix anything
		- fix breaks something else
	- What is the risk with not making the change?
- **Test result**
	- Sandbox testing environment
		- no connection to the real world
	- use before making a change to production
		- install patch, upgrade
- **Backout plan**
	- always must have ==backout plan!== to revert changes
	- backup 
- **Maintenance window**
	- When is the change happening?
	- not workdays, overnights is often a best option
	- time of year may be consider
		- for retail networks, the have on holidays biggest profits
- **Standard operating procedure(SOP)**
	- Affects everyone in the org
	- process must be well documented
	- changes to the process are reflect in documents
#### Technical implication
- **Allow list / deny list**
	- Any application can be dangerous
	- **Allow list**
		- Nothing runs unless approved
	- **Deny list**
		- Nothing on the bad list can be executed
		- anti-virus, anti-malware
- **Restricted activities**
	- scope of a change
	- change approval isn't permission to make any change
	- scope can be expanded
- **Downtime**
	- Service will eventually be unviable
	- prevent, minimalize downtime
		- have 2 systems and on 1 set it up and switch the systems
	- Inform people about update
- **Restarts**
	- Implement new configuration
	- **Services**
		- stop and restart service or daemon
	- **Application**
		- close the app completely and launch new session
- **Legacy applications**
	- no longer supported by the developer
	- fear of the unknown
		- face your fears and document the system
		- not bad as you think
	- create documentation
- **Dependencies**
	- service will not start without other active services
	- modifying one component may require changing other components
	- e.g.
		- Upgrade firewall code first
		- the upgrade the firewall management software
- **Documentation**
	- require with the change management process
	- **Updating diagrams**
		- modification to network configuration
	- **Updating policies/procedures**
		- if you add new system it may require to new procedures
- **Version control**
	- track changes to a file or configuration
	- e.g.
		- Router configurations
		- Windows OS patches
	- some apps may have built in VC system and other require additional software
### Cryptography
#### Public key infrastructure(PKI)
- It's all about trust
- **Symmetric encryption**
	- Encrypt and decrypt with the same key
	- Secret key algorithm
	- doesn't scale very well
- **Asymmetric encryption**
	- mathematically related keys
	- **Private** key
		- keep in private
		- only you can decrypt the message who has private key
		- can't be reverse engineer by the public key
	- **Public** key
		- Anyone can see this key
		- with this key everyone can encrypt message
	- **Key escrow**
		- keys are stored in third party or locally, allowing for recovery 
		- decrypt some employee data when they move or leave
		
#### Encrypting data
- **Full-disk, volume** 
	- BitLocker, FireVault
- **File encryption**
	- EFS(Encrypting File System), 3rd party utilities
- **Database encryption**
	- Transparent 
		- enc. all database information with symmetric key
	- Record-level
		- individual columns
- **Transport**
	- protect data traversing the network
		- HTTPS, VPN(SSL, TLS, IPsec)
- **Algorithms**
	- same formula must be used with encryption and decryption
- **Keys**
	- we know how the algorithm works but we don't have the key to open
	- **Length**
		- Symmetric
			- 128-bit  or larger keys are common
		- Asymmetric 
			- 3,072 bits or larger
- **Key stretching**
	- make a weak key stronger by performing multiple hashing processes
		- Hash password -> Hash password -> Hash password ->
	- bruteforcing is harder
#### Key exchange
- how do you share encryption key?
- **out-of-band** - don't use network, physically(usb)
- **In-band**
	- on the network
	- protect the key with additional encryption
- **Real-time enc/dec**
	- Share a symmetric session key using asymmetric encryption
		- client encrypt *symmetric* key with public key and send with it
		- the server decrypts this with private key 
		- **Session key**
			- need to be changed often
![[Pasted image 20250118083914.png]]
#### Encryption Technologies
- **Trusted Platform Module(TMP)**
	- Cryptography hardware, processor(Random number gen, key gen)
	- Unique key burned in during manufacturing
	- Securely store BitLocker keys
	- Password protected
	- for **single** device
- **Hardware Security Module(HSM)**
	- used in large environments
	- Secure keys stored in hardware
	- High-end
- **Key management systems**
	- locally, cloud-based
	- many different keys for different services
	- Manage all keys at one place
	- separate keys from data
	- features
		- Associate keys with specific user
		- Rotate keys on intervals
- **Secure enclave**
	- hardware processor, isolated from main processor
	- **features**
		- own ROM
		- True rand num gen
		- Real-time memory encryption
		- AES encryption in hardware 
#### Obfuscation(Zastírání)
- process of making something unclear
- Hide information in plain sight
- **Steganography**
	- Image
		- message is hide in the metadata
		- invisible watermarks, Yellow dots on printers
	- TCP packets
	- Audio, video
- **Tokenization**
	- Replace sensitive data with non-sensitive placeholder
	- common with credit card processing
- **Data masking**
	- Hide some of original data
	- control the view based on permissions
	- **techniques**
		- Substituting, shuffling, encrypting, masking out
![[Pasted image 20250118113757.png]]
#### Hashing
- represent data as a short string of text
	- fingerprint
	- the hash should be unique
- One-way
	- Impossible to recover the original message
	- Used to store passwords
	- verify integrity 
- signitures
- e.g.
	- SHA256 - 256 bits
-  **Collision** - Different inputs create same hash(MD5)
- Practical usage
	- Verify a download file
		- compare hashes of the downloaded file hash and on the website
	- Password storage
		- hash password -> save it to database -> and only hash the input and compare with db
- **Salt**
	- every hash get their random salt 
	- for slow down of brute force
#### Digital signature
- hashing is used there for message integrity and prove source
- first it will encrypt it with private key
- and everyone can decrypt it with public key
- the digital signature will is add to message
#### Blockchain 
- decentralized
- everyone keep track of transactions
- Usage
	- Payment processing
	- digital identification
	- Supply chain monitoring
	- Digital voting
- process
	- the transactions is saved in blocks
	- in block is
		- transaction
		- timestamp
		- previous hash
		- current hash of transaction
#### Certificates
- **Digital certificates**
	- binds a public key with a digital signature and other details about key holder
	- digital signature adds trust 
	- methods:
		- PKI(Public Key Infrastructure)
		- Web of Trust
	- can be on Windows Domain service or 3rd-party
	- format(X.509)
		- Serial number
		- Version
		- Signature Algorithm
		- Public key
- **Root of trust**
	- it is inherently trusted component
		- Hardware, software, firmware
		- HSM, Secure Enclave, CA
- **Certificate Authorities(CA)**
	- is something that you can trust
	- it is renewing digital certificates
	- when CA trusts some website you trust too
	- **3rd-party**
		- built-in to your browser
		- CA is responsible for vetting the request
		- they will confirm the certificate owner
- **Certificate signing request(CSR)**
	- Applicant
		-  will generate public, private key
		- and send public key with identifying information to CA
	- CA
		- validate applicant identity and send back Digitally signed Certificate
- **Private certificate authorities**
	- your own CA
	- must have internal CA
	- e.g. Windows Cerificate Service, OpenCA 
	- **Self-signed certificates**
		- don't need to be signed by public CA
		- install CA certificate chain on all devices then they will be trusted
- **Wildcard**
	- SAN(Subject Alternative Name)
	- allows a certificate to support many different domains(e.g. *.google.com)
- **Certificate Revocation List(CRL)**
	- for revoking certificates
	- when
		- compromised
		- issued in error
		- no longer using
	- can contain many revocations in a large file
- **OCSP(Online Certificate Status Protocol)**
	- CA is responsible for responding to all clients OSCP requests
	- status information is stored on the certificate holder's server
	- OCSP is stapled into SSL/TLS handshake
		- digitally signed by the CA